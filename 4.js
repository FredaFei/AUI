(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[4],{

/***/ "./packages/tabs/style/index.scss":
/*!****************************************!*\
  !*** ./packages/tabs/style/index.scss ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./packages/tabs/style/index.scss?");

/***/ }),

/***/ "./packages/tabs/style/index.tsx":
/*!***************************************!*\
  !*** ./packages/tabs/style/index.tsx ***!
  \***************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ \"./packages/tabs/style/index.scss\");\n/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);\n\r\n\n\n//# sourceURL=webpack:///./packages/tabs/style/index.tsx?");

/***/ }),

/***/ "./packages/tabs/tabPane.tsx":
/*!***********************************!*\
  !*** ./packages/tabs/tabPane.tsx ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/classnames */ \"./packages/utils/classnames.ts\");\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./style */ \"./packages/tabs/style/index.tsx\");\n\r\n\r\n\r\n\r\nvar componentName = 'TabPane';\r\nvar sc = Object(_utils_classnames__WEBPACK_IMPORTED_MODULE_2__[\"createScopedClasses\"])(componentName);\r\nvar TabPane = function (props) {\r\n    var className = props.className, active = props.active, key = props.key, children = props.children, rest = Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__rest\"])(props, [\"className\", \"active\", \"key\", \"children\"]);\r\n    return (react__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"](\"li\", Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__assign\"])({ \"data-role\": componentName, key: key, className: Object(_utils_classnames__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(sc('pane-item', { active: active }), className) }, rest), children));\r\n};\r\nTabPane.displayName = componentName;\r\nTabPane.defaultProps = {};\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (TabPane);\r\n\n\n//# sourceURL=webpack:///./packages/tabs/tabPane.tsx?");

/***/ }),

/***/ "./packages/tabs/tabs.tsx":
/*!********************************!*\
  !*** ./packages/tabs/tabs.tsx ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/classnames */ \"./packages/utils/classnames.ts\");\n/* harmony import */ var _tabPane__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tabPane */ \"./packages/tabs/tabPane.tsx\");\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./style */ \"./packages/tabs/style/index.tsx\");\n\r\n\r\n\r\n\r\n\r\nvar componentName = 'Tabs';\r\nvar sc = Object(_utils_classnames__WEBPACK_IMPORTED_MODULE_1__[\"createScopedClasses\"])(componentName);\r\nvar Tabs = function (props) {\r\n    var _a = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(''), activeTabKey = _a[0], setActiveTabKey = _a[1];\r\n    var _b = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(0), lineWidth = _b[0], setLineWidth = _b[1];\r\n    var _c = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(0), lineHeight = _c[0], setLineHeight = _c[1];\r\n    var _d = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(0), lineX = _d[0], setLineX = _d[1];\r\n    var _e = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(0), lineY = _e[0], setLineY = _e[1];\r\n    var _f = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(0), navX = _f[0], setNavX = _f[1];\r\n    var _g = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(0), navY = _g[0], setNavY = _g[1];\r\n    var className = props.className, direction = props.direction, lineWidthOrHeight = props.lineWidthOrHeight, defaultActiveKey = props.defaultActiveKey, activeKey = props.activeKey, style = props.style;\r\n    var keysRef = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useRef\"])([]);\r\n    var lineRef = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useRef\"])(null);\r\n    var navViewRef = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useRef\"])(null);\r\n    var tabItemsRef = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useRef\"])(null);\r\n    var tabItemRef = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useRef\"])(null);\r\n    var navsStyle = props.direction === 'horizontal' ? { transform: \"translate3d(\" + navX + \"px, 0, 0)\" } : { transform: \"translate3d( 0,\" + navY + \"px,0)\" };\r\n    var lineStyle = props.direction === 'horizontal' ? {\r\n        width: lineWidth + \"px\",\r\n        transform: \"translate3d(\" + lineX + \"px, 0, 0)\",\r\n    } : {\r\n        height: lineHeight + \"px\",\r\n        transform: \"translate3d(0,\" + lineY + \"px, 0)\",\r\n    };\r\n    Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\r\n        var active = 'defaultActiveKey' in props ? defaultActiveKey : 'activeKey' in props ? activeKey : (keysRef.current[0] || '');\r\n        setActiveTabKey(active);\r\n    }, []);\r\n    Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\r\n        calculateLineStyle(getCurrentTabsIndex(activeTabKey));\r\n        hasTabItemHidden() && calculateNavsStyle(getCurrentTabsIndex(activeTabKey));\r\n    }, [activeTabKey, direction]);\r\n    var hasTabItemHidden = function () {\r\n        var _a = tabItemsRef.current.getBoundingClientRect(), width = _a.width, height = _a.height;\r\n        var _b = navViewRef.current.getBoundingClientRect(), viewWidth = _b.width, viewHeight = _b.height;\r\n        if (props.direction === 'horizontal' && viewWidth >= width) {\r\n            return false;\r\n        }\r\n        if (props.direction === 'vertical' && viewHeight >= height) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    var getCurrentItemOffset = function (index, tabItemElement) {\r\n        var width = 0, height = 0, left = 0, top = 0;\r\n        if (tabItemElement) {\r\n            var tabItems = tabItemElement.querySelectorAll('.am-tabs-nav-item');\r\n            for (var i = 0; i < tabItems.length; i++) {\r\n                var _a = tabItems[i].getBoundingClientRect(), itemWidth = _a.width, itemHeight = _a.height;\r\n                if (i < index) {\r\n                    left += itemWidth;\r\n                    top += itemHeight;\r\n                }\r\n                if (i === index) {\r\n                    width = itemWidth;\r\n                    height = itemHeight;\r\n                }\r\n            }\r\n        }\r\n        return { width: width, left: left, height: height, top: top };\r\n    };\r\n    var getCurrentTabsIndex = function (value) {\r\n        var index = keysRef.current.indexOf(value);\r\n        return index >= 0 ? index : 0;\r\n    };\r\n    var tabItemViewPosition = function (itemLeftOrRight, itemWidthOrHeight, viewWidthOrHeight, widthOrHeight) {\r\n        var offset = itemLeftOrRight + itemWidthOrHeight / 2;\r\n        var delta = offset - viewWidthOrHeight / 2;\r\n        if (delta > 0) {\r\n            if (widthOrHeight - itemLeftOrRight - itemWidthOrHeight <= viewWidthOrHeight / 2) {\r\n                delta = widthOrHeight - viewWidthOrHeight;\r\n            }\r\n        }\r\n        else {\r\n            delta = 0;\r\n        }\r\n        return delta;\r\n    };\r\n    var calculateNavsStyle = function (index) {\r\n        if (index < 0) {\r\n            return;\r\n        }\r\n        var navsElement = navViewRef.current;\r\n        var tabItemsElement = tabItemsRef.current;\r\n        if (!navsElement || !tabItemsElement) {\r\n            return;\r\n        }\r\n        var _a = navsElement.getBoundingClientRect(), viewWidth = _a.width, viewHeight = _a.height;\r\n        var _b = getCurrentItemOffset(index, tabItemsElement), itemWidth = _b.width, itemHeight = _b.height, itemLeft = _b.left, itemTop = _b.top;\r\n        var _c = tabItemsElement.getBoundingClientRect(), width = _c.width, height = _c.height;\r\n        if (props.direction === 'horizontal') {\r\n            setNavX(-tabItemViewPosition(itemLeft, itemWidth, viewWidth, width));\r\n        }\r\n        else {\r\n            setNavY(-tabItemViewPosition(itemTop, itemHeight, viewHeight, height));\r\n        }\r\n    };\r\n    var calculateLineStyle = function (index) {\r\n        if (index < 0) {\r\n            return;\r\n        }\r\n        var lineElement = lineRef.current;\r\n        var tabItemsElement = tabItemsRef.current;\r\n        if (!lineElement || !tabItemsElement || !tabItemsElement.children) {\r\n            return;\r\n        }\r\n        var el = tabItemsElement.children[index];\r\n        var _a = tabItemsElement.getBoundingClientRect(), left1 = _a.left, top1 = _a.top;\r\n        var _b = el.getBoundingClientRect(), width = _b.width, left2 = _b.left, height = _b.height, top2 = _b.top;\r\n        var lineWidth = lineWidthOrHeight ? +lineWidthOrHeight : width;\r\n        var lineHeight = lineWidthOrHeight ? +lineWidthOrHeight : height;\r\n        if (props.direction === 'horizontal') {\r\n            setLineWidth(lineWidth);\r\n            setLineX(left2 - left1 + (width - lineWidth) / 2);\r\n        }\r\n        else {\r\n            setLineHeight(lineHeight);\r\n            setLineY(top2 - top1 + (height - lineHeight) / 2);\r\n        }\r\n    };\r\n    var handleClick = function (key, disabled) {\r\n        if (disabled) {\r\n            return false;\r\n        }\r\n        setActiveTabKey(key);\r\n        props.onChange && props.onChange(key);\r\n    };\r\n    var renderTabsNav = function (child, options) {\r\n        var itemClass = {\r\n            disabled: child.props.disabled,\r\n            active: options.active\r\n        };\r\n        return (react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { \"data-role\": \"tabsNavItem\", key: \"nav-\" + options.key, className: sc('nav-item', itemClass), onClick: function () { return handleClick(options.key, child.props.disabled); }, ref: tabItemRef }, child.props.tab));\r\n    };\r\n    var renderTabsPane = function (child, options) {\r\n        return react__WEBPACK_IMPORTED_MODULE_0__[\"cloneElement\"](child, {\r\n            active: options.active\r\n        });\r\n    };\r\n    var renderLayout = function (layout) {\r\n        var children = react__WEBPACK_IMPORTED_MODULE_0__[\"Children\"].map(props.children, function (child) {\r\n            var element = child;\r\n            if (element.type !== _tabPane__WEBPACK_IMPORTED_MODULE_2__[\"default\"]) {\r\n                console.warn('Tabs 组件的子组件只能是 TabPane组件');\r\n                return null;\r\n            }\r\n            var key = element.key;\r\n            keysRef.current.push(key);\r\n            return element.type === _tabPane__WEBPACK_IMPORTED_MODULE_2__[\"default\"] && layout(element, { key: key, active: activeTabKey === key });\r\n        });\r\n        return children.filter(function (i) { return i; });\r\n    };\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { \"data-role\": componentName, className: Object(_utils_classnames__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(sc('wrapper', direction), className), style: style },\r\n        react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: sc('nav-wrapper'), ref: navViewRef },\r\n            react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: sc('nav'), ref: tabItemsRef, style: navsStyle },\r\n                renderLayout(renderTabsNav),\r\n                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"div\", { className: sc('nav-line'), ref: lineRef, style: lineStyle }))),\r\n        react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"ul\", { className: \"am-tabs-pane-body\" }, renderLayout(renderTabsPane))));\r\n};\r\nTabs.displayName = componentName;\r\nTabs.defaultProps = {\r\n    direction: 'horizontal'\r\n};\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Tabs);\r\n\n\n//# sourceURL=webpack:///./packages/tabs/tabs.tsx?");

/***/ }),

/***/ "./packages/utils/collection.ts":
/*!**************************************!*\
  !*** ./packages/utils/collection.ts ***!
  \**************************************/
/*! exports provided: range, unique, flatten, difference, intersection, sort, towArraysAreEqual */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"range\", function() { return range; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"unique\", function() { return unique; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"flatten\", function() { return flatten; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"difference\", function() { return difference; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"intersection\", function() { return intersection; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sort\", function() { return sort; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"towArraysAreEqual\", function() { return towArraysAreEqual; });\nfunction range(start, end) {\r\n    var temp = [];\r\n    for (var i = start; i <= end; i++) {\r\n        temp.push(i);\r\n    }\r\n    return temp;\r\n}\r\nfunction unique(array) {\r\n    var obj = {};\r\n    return array.filter(function (item) { return obj.hasOwnProperty(typeof item + JSON.stringify(item)) ? false : (obj[typeof item + JSON.stringify(item)] = true); });\r\n}\r\nfunction flatten(array) {\r\n    if (!array) {\r\n        return [];\r\n    }\r\n    return array.reduce(function (result, next) { return result.concat(Array.isArray(next) ? flatten(next) : next); }, []);\r\n}\r\nfunction difference(a, b) {\r\n    return a.filter(function (i) { return b.indexOf(i) === -1; });\r\n}\r\nfunction intersection(a, b) {\r\n    return a.filter(function (i) { return b.indexOf(i) > -1; });\r\n}\r\nfunction compare(a, b) {\r\n    // 按某种排序标准进行比较, a 小于 b\r\n    if (a < b) {\r\n        return -1;\r\n    }\r\n    if (a > b) {\r\n        return 1;\r\n    }\r\n    // a must be equal to b\r\n    return 0;\r\n}\r\nfunction sort(array) {\r\n    return array.sort(compare);\r\n}\r\nfunction towArraysAreEqual(a, b) {\r\n    return a.length === b.length && JSON.stringify(sort(a)) === JSON.stringify(sort(b));\r\n}\r\n\r\n\n\n//# sourceURL=webpack:///./packages/utils/collection.ts?");

/***/ })

}]);